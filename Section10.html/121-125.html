<!-- 
 121. Deploying and Managing Infrastructure at Scale

 - What is CloudFormation?
    CloudFormation is going to be used when we have infrastructure as code, when we need to repeat an arhitecture in different environments, different regions, or even different AWS accounts
    - CloudFormation is a declarative way of outlining your AWS Infrastructure, for any resources (most of them are supported)
    EX: within a CloudFormation template, you say"
        I want a security group
        I want two EC2 instances using this security group
        I want an S3 bucket
        I want a load balancer (ELB) in front of these machines
    then CLoudFormation creates those for you, in the RIGHT ORDER, with the EXACT CONFIGURATION that you specify

    Benefits: 
    - Infrastructure is as code (never create resources manually)
    - changes to infrastructure are reviewd through code reviews, which creates a safety net
    cost benefits:
    - each resource within the stack is tagged with an identifier so you can easily see how much a stack costs you
    - you can easily estimate the cost of your resources using the CloudFormation template
    - Savings strategy: in some environemtn you can automate the deletion of templates at 5pm and recreate them at 8am safely, you don't have any resources during that time which leads to costs savings
    productivity: 
        - ability to destroy and recreate an infrastructure on the cloud on the fly
        - automated generation of diamgrams for your templates
        - declarative programming (no need to figure out ordering and orchestration)
    don't reinvent the wheel:
        - leverage existing templates on the web
        - leverage existing documentation
    support almost all AWS resources
        - you can use "custom resources" for resources that are not supported

CloudFormaion + Application Composer
visualize a CloudFormation template using the Application Composer service
    EX: WordPress CloudFormation Stack

    122. CloudFormation Hands On

    123. CDK Overview

    124. Cloud Formation Hands-On

    125. AWS Cloud Developer Kit
        - define your cloud infrastructure using a familiar language: Javascript/typescript, python, java, and .NET
        - then the code is compiled into a CloudFormation template (JSON/YAML)
        - you can delpoy infrastructure and application runtime code together (if they share the same languages)
            - great for Lambda functions
            - great for Docker containers in DCS/EKS
        - why use a familiar programming language?
            - can use type safety, constructs, to complete the project faster, to reuse some code, have for loops, etc. 
    126. Beanstalk Overview
        - when we deploy a web app in AWS it usually follows a 3-tier architecture
            1) 
            users talk to a load balancer tha can be in multiple availability zones
            2) 
            the load balancer forwards traffic to multiple EC2 instances, managed by an autoscaling group
            3) 
            - EC2 instances store data in a database such as Amazon RDS
            - ElastiCache to store/retrieve session data + Cached data
        - we can easily reproduce this architecture manually or on AWS through CloudFormation, but a better way is to use 
        - Developer Problems on AWS
            - don't want to managing infrastructure
            - dont want to configure all the databases, load balancer, etc
            - just want to delpoy code & ensure project is scalable
        
        - most web apps have the same architecture -- ALB (load balancer) + ASG (auto scaling group)
        - all the develoeprs want is for their code to run! and possibly, consinstently run across different applications and environments
    
        Elastic Beanstalk is a developer centric view of deploying an application on AWS

        - Beanstalk = Platform as a Service (PaaS)
        - it uses all the componenets we've seen before: EC2, ASG, ELB, RDS, etc..
        - but it's all in one view that's easy to make sense of!
        - & we still have full control over the configuration of all the components
        - Elastic Beanstalk is free but you pay for the underlying instances
        - Elastic Beanstalk is a managed service
            - instance configuration/OS is handled by Beanstalk
            - deployment strategy is configurable but performed by Elastic Beanstalk
            - load balancing * autoscaling by Beanstalk
            - Application health-monitoring & responsiveness by Beanstalk
            - just the application code is the responsibility of the developer

            - three architecture models:
                - single instance deployment = good for dev
                - LB + ASG: great for production or pre-production web applications
                - ASG only: great for non-web apps in production (workers etc.)
            
        Support for many platforms
            - Go, Java SE, Java with Tomcat, etc. more examples listed in the lecture
        
        Elastic Beanstalk - Health Monitoring
            - health agent pushes metrics to CloudWatch
            - Checks for app health, publushes health events

    127. Beanstalk Hands-ON

    128. AWS CodeDeploy
        - a way to deploy our application automatically
        - completely independent, doens't need to use Beanstalk or CloudFormation
        - if we have version 1 and want to deploy Version 2, CodeDeploy will find a way to do this for us automatically & from a single interface
        - CodeDeploy works with EC2 instances & On-premises Servers
        - HYBRID service - because it works with On-Premises & EC2 instances
        - Servers/Instances must be provisioned & configured ahead of time with the CodeDeploy agent
    
        129. CodeCommit - DEprecated 
            - assume there is a GitHub integration in place of CodeCommit
            
 -->